(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc3b093e"],{"0cf3":function(e,t,a){},"1d06":function(e,t,a){"use strict";a("0cf3")},"363d":function(e,t,a){"use strict";a("f5d8")},"39e5":function(e,t,a){"use strict";a("4029")},"3f18":function(e,t,a){},4029:function(e,t,a){},ab0e:function(e,t,a){"use strict";a("3f18")},b9c2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"page-card",attrs:{shadow:"never"}},[a("SearchForm",{ref:"searchForm",attrs:{options:e.options,"search-config":e.searchConfig},on:{search:e.onSearch,init:e.onInit}}),e.showTable?a("div",[a("TablePackage",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"TablePackage",staticStyle:{width:"100%"},attrs:{data:e.tableData,"storage-name":"user-list",size:e.$size,border:"","header-cell-style":{"text-align":"center",background:"#fafafa"},"cell-style":{"text-align":"center"}},scopedSlots:e._u([{key:"btnContentLeft",fn:function(){},proxy:!0},{key:"btnContentRight",fn:function(){return[a("el-tooltip",{staticClass:"item table-top-btn",attrs:{effect:"dark",content:"刷新列表",placement:"top"}},[a("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-refresh-right"},on:{click:e.getData}})],1)]},proxy:!0}],null,!1,449841364)},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"用戶ID","min-width":"120"}}),a("el-table-column",{attrs:{fixed:"","show-overflow-tooltip":"",prop:"relation_addr",label:"關聯地址","min-width":"160"}}),e._l(e.roleEnum,(function(t,n){return a("el-table-column",{key:n,attrs:{label:t.label,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("div",[a("el-select",{attrs:{disabled:!e.buttonRoles.some((function(e){return"user-list-role"===e})),placeholder:"請選擇"},on:{change:function(t){return e.changeRole(n.row)}},model:{value:n.row[t.value],callback:function(a){e.$set(n.row,t.value,a)},expression:"scope.row[ite.value]"}},e._l(e.isRole,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]}}],null,!0)})})),a("el-table-column",{attrs:{prop:"user_level",label:"等級","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-select",{attrs:{disabled:!e.buttonRoles.some((function(e){return"user-list-level"===e})),placeholder:"請選擇"},on:{change:function(a){return e.changeLevel(t.row)}},model:{value:t.row.level,callback:function(a){e.$set(t.row,"level",a)},expression:"scope.row.level"}},e._l(e.options.level_enum,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]}}],null,!1,47722062)}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"pid",label:"推薦人","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.buttonRoles.some((function(e){return"user-list-pid"===e}))?a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleClick("pid",t.row)}}},[e._v(e._s(t.row.pid))])],1):a("div",[e._v(e._s(t.row.pid))])]}}],null,!1,394734958)}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"餘額","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.buttonRoles.some((function(e){return"user-list-balance"===e}))?a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleClick("balance",t.row)}}},[e._v(e._s(t.row.balance))])],1):a("div",[e._v(e._s(t.row.balance))])]}}],null,!1,1532254510)}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"uuid",label:"設備ID","min-width":"150"}}),a("el-table-column",{attrs:{prop:"quota",label:"額度","min-width":"80"}}),a("el-table-column",{attrs:{prop:"account.ape",label:"待领取APE","min-width":"120"}}),a("el-table-column",{attrs:{prop:"account.acc_ape",label:"累计發放APE","min-width":"120"}}),a("el-table-column",{attrs:{prop:"relation_at",label:"關聯時間","min-width":"160"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"備註","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-omit"},[e.buttonRoles.some((function(e){return"user-list-remark"===e}))?a("span",{staticClass:"icon-edit",on:{click:function(a){return e.editRemarks(t.row)}}},[a("i",{staticClass:"el-icon-edit"})]):e._e(),e._v(" "+e._s(t.row.remark)+" ")])]}}],null,!1,2105089381)}),a("el-table-column",{attrs:{prop:"id",label:"狀態","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:!e.buttonRoles.some((function(e){return"user-list-status"===e})),"active-value":1,"inactive-value":0},on:{change:function(a){return e.changeStatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}],null,!1,1844594881)}),a("el-table-column",{staticClass:"operate-table",attrs:{label:"操作",width:"80",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.operateAuthB?a("el-dropdown",{attrs:{trigger:"click",size:"small",placement:"bottom-end","hide-on-click":!1},on:{command:function(a){e.handleClick(a,t.row,t.$index)}}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" ... ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"setButtonPower",rawName:"v-setButtonPower",value:"user-list-record",expression:"'user-list-record'"}],attrs:{command:"record"}},[e._v("查看數據")]),a("el-dropdown-item",{directives:[{name:"setButtonPower",rawName:"v-setButtonPower",value:"user-list-team",expression:"'user-list-team'"}],attrs:{command:"team"}},[e._v("團隊詳情")]),a("el-dropdown-item",{directives:[{name:"setButtonPower",rawName:"v-setButtonPower",value:"user-list-quota",expression:"'user-list-quota'"}],attrs:{command:"quota"}},[e._v("增加額度")])],1)],1):e._e()]}}],null,!1,1734697168)})],2),a("div",{staticClass:"footerpage"},[a("el-pagination",{attrs:{background:"","current-page":e.searchForm.page,"page-size":e.searchForm.page_size,layout:"total,  prev, pager, next, jumper",total:e.searchForm.total},on:{"current-change":e.handleCurrentChange}})],1)],1):e._e()],1),a("RecordDetail",{ref:"RecordDetail",attrs:{options:e.options}}),a("BalanceDetail",{ref:"BalanceDetail",attrs:{options:e.options}}),a("TeamDetail",{ref:"TeamDetail"})],1)},r=[],i=a("c7eb"),o=a("1da1"),s=a("5530"),l=(a("ac1f"),a("00b4"),a("2f62")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{width:"75%",title:"數據詳情","before-close":e.handleClose,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-card",[a("el-descriptions",{attrs:{title:"數據統計",direction:"vertical",size:"mini",column:4,border:""}},[a("el-descriptions-item",{attrs:{label:"參與數量（APE）"}},[e._v(e._s(e.detailInfo.part_ape))]),a("el-descriptions-item",{attrs:{label:"累放發放（APE）"}},[e._v(e._s(e.detailInfo.acc_ape))]),a("el-descriptions-item",{attrs:{label:"待領取（APE）"}},[e._v(e._s(e.detailInfo.ape))]),a("el-descriptions-item",{attrs:{label:"賽博猿（张）"}},[e._v(e._s(e.detailInfo.world_ape))])],1),a("el-descriptions",{staticStyle:{"margin-top":"20px"},attrs:{title:"收益詳情",direction:"vertical",size:"mini",column:3,border:""}},[a("el-descriptions-item",{attrs:{label:"靜態收益（APE）"}},[e._v(e._s(e.detailInfo.static_income))]),a("el-descriptions-item",{attrs:{label:"動態收益（APE）"}},[e._v(e._s(e.detailInfo.dynamic_income))]),a("el-descriptions-item",{attrs:{label:"永動激勵（APE）"}},[e._v(e._s(e.detailInfo.perpetual_motivation))]),a("el-descriptions-item",{attrs:{label:"永動補償（APE）"}},[e._v(e._s(e.detailInfo.perpetual_compensation))]),a("el-descriptions-item",{attrs:{label:"聯盟委員會（APE）"}},[e._v(e._s(e.detailInfo.alliance_income))]),a("el-descriptions-item",{attrs:{label:"賽博猿NFT（APE）"}},[e._v(e._s(e.detailInfo.world_income))])],1)],1),a("el-card",{staticStyle:{"margin-top":"20px"}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"收益記錄",name:"firstMoney"}},[a("Money",{ref:"firstMoney",attrs:{options:e.options,from:"first"}})],1),a("el-tab-pane",{attrs:{label:"收支記錄",name:"secondMoney"}},[a("Money",{ref:"secondMoney",attrs:{options:e.options,from:"second"}})],1)],1)],1)],1)],1)},u=[],d=a("c24f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"searchForm",attrs:{size:"mini",inline:!0,model:e.searchForm}},[a("el-form-item",{attrs:{label:"first"===e.from?"收益時間：":"收支時間："}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.changeTime},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),a("el-form-item",{attrs:{label:"first"===e.from?"收益類型：":"收支類型："}},["first"===e.from?a("el-select",{attrs:{clearable:"",placeholder:"請選擇"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},e._l(e.options.income_type_enum,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):a("el-select",{attrs:{clearable:"",placeholder:"請選擇"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},e._l(e.options.log_type_enum,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",size:"mini","header-cell-style":{"text-align":"center",background:"#fafafa"},"cell-style":{"text-align":"center"}}},["first"===e.from?a("el-table-column",{attrs:{prop:"type_str",label:"收益类型","min-width":"150"}}):e._e(),"first"===e.from?a("el-table-column",{attrs:{prop:"ape",label:"收益數量（APE）","min-width":"150"}}):e._e(),"first"===e.from?a("el-table-column",{attrs:{prop:"created_at",label:"收益時間","min-width":"160"}}):e._e(),"second"===e.from?a("el-table-column",{attrs:{prop:"type_str",label:"收支類型","min-width":"150"}}):e._e(),"second"===e.from?a("el-table-column",{attrs:{prop:"num",label:"收支數量（APE）","min-width":"150"}}):e._e(),"second"===e.from?a("el-table-column",{attrs:{prop:"new_num",label:"待領取（APE）","min-width":"150"}}):e._e(),"second"===e.from?a("el-table-column",{attrs:{prop:"created_at",label:"收益時間","min-width":"160"}}):e._e()],1),a("div",{staticClass:"detail-footer"},[a("el-pagination",{attrs:{background:"","current-page":e.searchForm.page,"page-size":e.searchForm.page_size,layout:"total,  prev, pager, next, jumper",total:e.searchForm.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},m=[],h={name:"",props:{options:{type:Object,default:function(){return{}}},from:{type:String,default:""}},data:function(){return{searchForm:{page:1,page_size:10,total:0,id:"",type:"",start:"",end:"",time:[]},tableData:[]}},computed:{},created:function(){},methods:{handleCurrentChange:function(e){this.searchForm.page=e,this.getData()},search:function(){this.searchForm.page=1,this.getData()},changeTime:function(e){e?(this.searchForm.start=e[0]/1e3,this.searchForm.end=e[1]/1e3):(this.searchForm.start="",this.searchForm.end="")},getData:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n,r,o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("first"!==e.from){t.next=9;break}return t.next=3,Object(d["b"])(e.searchForm);case 3:a=t.sent,n=a.data,e.tableData=n.data,e.searchForm.total=n.total,t.next=15;break;case 9:return t.next=11,Object(d["c"])(e.searchForm);case 11:r=t.sent,o=r.data,e.tableData=o.data,e.searchForm.total=o.total;case 15:case"end":return t.stop()}}),t)})))()}}},f=h,b=(a("363d"),a("2877")),v=Object(b["a"])(f,p,m,!1,null,"b05fcade",null),g=v.exports,_={name:"",components:{Money:g},props:{options:{type:Object,default:function(){return{}}}},data:function(){return{mode:"",dialogFormVisible:!1,activeName:"firstMoney",detailInfo:{},detailId:""}},computed:{},created:function(){},methods:{getData:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var n,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["f"])({id:e.id});case 2:n=a.sent,r=n.data,t.detailInfo=Object(s["a"])(Object(s["a"])({},t.detailInfo),r),t.getRefData("firstMoney",e);case 6:case"end":return a.stop()}}),a)})))()},getRefData:function(e,t){this.$refs[e].searchForm.id=t.id,this.$refs[e].searchForm.page=1,this.$refs[e].searchForm.type="",this.$refs[e].searchForm.start="",this.$refs[e].searchForm.end="",this.$refs[e].searchForm.time=[],this.$refs[e].getData()},handleClose:function(){this.detailInfo={},this.activeName="firstMoney",this.$refs.firstMoney.tableData=[],this.$refs.secondMoney.tableData=[],this.dialogFormVisible=!1},handleClick:function(e){var t={};t.id=this.detailId,this.getRefData(this.activeName,t)}}},w=_,y=(a("ab0e"),Object(b["a"])(w,c,u,!1,null,"4dd97956",null)),j=y.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dialogFormVisible?a("div",[a("el-dialog",{attrs:{width:"65%",title:"團隊詳情",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-card",[a("el-descriptions",{attrs:{direction:"vertical",size:"mini",column:3,border:""}},[a("el-descriptions-item",{attrs:{label:"用戶ID"}},[e._v(e._s(e.userInfo.uid))]),a("el-descriptions-item",{attrs:{label:"個人業績"}},[e._v(e._s(e.userInfo.part_ape))]),a("el-descriptions-item",{attrs:{label:"團隊業績"}},[e._v(e._s(e.userInfo.team_yeji))])],1),a("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"title"},[e._v("大區業績："),a("span",{staticClass:"performance"},[e._v(e._s(e.first_yeji))])]),a("div",{staticClass:"tree-con",staticStyle:{"margin-top":"8px"}},[a("el-tree",{ref:"tree",attrs:{accordion:"","empty-text":"暫無業績",load:e.loadLevelNode,lazy:""}})],1)]),a("el-col",{staticStyle:{"margin-top":"40px"},attrs:{span:24}},[a("div",{staticClass:"title"},[e._v("小區業績："),a("span",{staticClass:"performance"},[e._v(e._s(e.second_yeji))])]),a("div",{staticClass:"tree-con",staticStyle:{"margin-top":"8px"}},[a("el-tree",{attrs:{accordion:"","empty-text":"暫無業績",load:e.loadLevelNode2,lazy:""}})],1)])],1)],1)],1)],1):e._e()},x=[],F=(a("d3b7"),a("159b"),a("99af"),{name:"",data:function(){return{dialogFormVisible:!1,userId:"",userInfo:{},first_yeji:0,second_yeji:0}},computed:{},created:function(){},methods:{getData:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var n,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["h"])({id:e.id});case 2:n=a.sent,r=n.data,t.userInfo=r.personal_yeji,t.first_yeji=r.first_yeji,t.second_yeji=r.second_yeji;case 7:case"end":return a.stop()}}),a)})))()},loadLevelNode:function(e,t){var a=this;setTimeout(Object(o["a"])(Object(i["a"])().mark((function n(){var r,o,s,l;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!==e.level){n.next=10;break}return n.next=3,Object(d["h"])({id:a.userId});case 3:r=n.sent,o=r.data,a.eachData(o.first_region),t&&t(o.first_region),e.childNodes.forEach((function(e){e.data.have_child||(e.isLeaf=!0)})),n.next=17;break;case 10:return n.next=12,Object(d["a"])({uid:e.data.uid});case 12:s=n.sent,l=s.data,a.eachData(l),t&&t(l),e.childNodes.forEach((function(e){e.data.have_child||(e.isLeaf=!0)}));case 17:case"end":return n.stop()}}),n)}))),500)},loadLevelNode2:function(e,t){var a=this;setTimeout(Object(o["a"])(Object(i["a"])().mark((function n(){var r,o,s,l;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!==e.level){n.next=10;break}return n.next=3,Object(d["h"])({id:a.userId});case 3:r=n.sent,o=r.data,a.eachData(o.second_region),t&&t(o.second_region),e.childNodes.forEach((function(e){e.data.have_child||(e.isLeaf=!0)})),n.next=17;break;case 10:return n.next=12,Object(d["a"])({uid:e.data.uid});case 12:s=n.sent,l=s.data,a.eachData(l),t&&t(l),e.childNodes.forEach((function(e){e.data.have_child||(e.isLeaf=!0)}));case 17:case"end":return n.stop()}}),n)}))),500)},eachData:function(e){e&&e.forEach((function(e){e.label="用戶ID：".concat(e.uid,"，個人業績：").concat(e.part_ape,"，團隊業績：").concat(e.team_yeji)}))}}}),k=F,D=(a("1d06"),Object(b["a"])(k,O,x,!1,null,"25caaae9",null)),$=D.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{width:"75%",title:"餘額明細","before-close":e.handleClose,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"searchForm",attrs:{size:"mini",model:e.searchForm,"label-position":"top"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"變動時間"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"timestamp","range-separator":"至","start-placeholder":"開始時間","end-placeholder":"結束時間"},on:{change:e.changeTime},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"變動原因"}},[a("el-select",{attrs:{clearable:"",placeholder:"請選擇"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},e._l(e.options.balance_log_type_enum,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{staticStyle:{"padding-bottom":"18px"},attrs:{span:8}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("搜索")]),a("el-button",{attrs:{size:"mini",icon:"el-icon-refresh-right"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",size:"mini",data:e.tableData,"header-cell-style":{"text-align":"center"},"cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{prop:"type_str",label:"變動原因","min-width":"150"}}),a("el-table-column",{attrs:{prop:"num",label:"變動數量（APE）","min-width":"150"}}),a("el-table-column",{attrs:{prop:"new_num",label:"變動後餘額（APE）","min-width":"150"}}),a("el-table-column",{attrs:{prop:"state_str",label:"變動狀態","min-width":"150"}}),a("el-table-column",{attrs:{prop:"created_at",label:"變動時間","min-width":"160"}})],1),a("div",{staticClass:"footerpage"},[a("el-pagination",{attrs:{background:"","current-page":e.searchForm.page,"page-size":e.searchForm.page_size,layout:"total,  prev, pager, next, jumper",total:e.searchForm.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},I=[],E={name:"",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{dialogFormVisible:!1,searchForm:{page:1,page_size:10,total:0,id:"",time:[],start:"",end:"",type:""},tableData:[]}},computed:{},created:function(){},methods:{handleCurrentChange:function(e){this.searchForm.page=e,this.getData()},changeTime:function(e){e?(this.searchForm.start=e[0]/1e3,this.searchForm.end=e[1]/1e3):(this.searchForm.start="",this.searchForm.end="")},search:function(){this.searchForm.page=1,this.getData()},reset:function(){this.searchForm.page=1,this.searchForm.time=[],this.searchForm.start="",this.searchForm.end="",this.searchForm.type="",this.getData()},getData:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["j"])(e.searchForm);case 2:a=t.sent,n=a.data,e.tableData=n.data,e.searchForm.total=n.total;case 6:case"end":return t.stop()}}),t)})))()},handleClose:function(){this.searchForm={page:1,page_size:10,total:0,id:"",time:[],start:"",end:"",type:""},this.dialogFormVisible=!1}}},T=E,S=(a("39e5"),Object(b["a"])(T,C,I,!1,null,"f6498f32",null)),B=S.exports,P=a("21fd"),z=a("9418"),R=a("c6e7"),V=a("fa7d"),A=a("0272"),N={name:"UserList",components:{TablePackage:P["a"],RecordDetail:j,SearchForm:A["a"],TeamDetail:$,BalanceDetail:B},mixins:[R["a"]],data:function(){return{loading:!1,showTable:!1,options:{role_enum:[],status_enum:[],level_enum:[],income_type_enum:[],log_type_enum:[],is_note_enum:[],is_wei_enum:[],balance_log_type_enum:[]},roleEnum:[],isRole:[],searchConfig:[{key:"id",type:"input",label:"用戶ID",value:""},{key:"relation_addr",type:"input",label:"關聯地址",value:""},{key:"pid",type:"input",label:"推薦人",value:""},{key:"is_note",type:"select",label:"創世節點",value:""},{key:"is_wei",type:"select",label:"聯盟股東",value:""},{key:"level",type:"select",label:"等級",value:""},{key:"uuid",type:"input",label:"設備ID",value:""},{key:"create_time",type:"datetimerange",label:"關聯時間",is_simple:!0,value:""}],tableData:[]}},computed:Object(s["a"])({operateAuthB:function(){return Object(V["d"])(["user-list-team","user-list-record","user-list-quota"])}},Object(l["b"])(["buttonRoles"])),created:function(){this.getEnum()},methods:{getEnum:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["g"])();case 2:a=t.sent,n=a.data,e.options.role_enum=n.user_role,e.options.status_enum=n.status,e.options.level_enum=n.user_level,e.options.income_type_enum=n.income_type,e.options.log_type_enum=n.log_type,e.options.is_note_enum=n.bool,e.options.is_wei_enum=n.bool,e.options.balance_log_type_enum=n.balance_log_type,e.isRole=n.bool,e.roleEnum=n.user_role_type,e.showTable=!0;case 15:case"end":return t.stop()}}),t)})))()},getData:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(d["i"])(e.getSearchOptions());case 3:a=t.sent,n=a.data,e.loading=!1,e.tableData=n.data,e.searchForm.total=n.total;case 8:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){this.loading=!0,this.searchForm.page=e,this.getData()},changeRole:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("確定调整用戶ID：".concat(e.id,"的聯盟委員？"),"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["m"])({id:e.id,is_note:e.is_note,is_wei:e.is_wei});case 2:t.$message({type:"success",message:"操作成功！"}),t.getData();case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.getData()}));case 1:case"end":return a.stop()}}),a)})))()},editRemarks:function(e){var t=this;this.$prompt("","請輸入備註",{confirmButtonText:"確定",cancelButtonText:"取消",inputType:"textarea",inputValue:e.remark,inputErrorMessage:"備註不能為空",inputValidator:function(e){return!!e||"請輸入備註"}}).then(function(){var a=Object(o["a"])(Object(i["a"])().mark((function a(n){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=n.value,a.next=3,Object(d["l"])({id:e.id,remark:r});case 3:Object(z["a"])(t,"操作成功！","success"),t.getData();case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(){}))},changeLevel:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("確定调整用戶ID：".concat(e.id,"的等级？"),"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["e"])({id:e.id,level:e.level});case 2:t.$message({type:"success",message:"操作成功！"}),t.getData();case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.getData()}));case 1:case"end":return a.stop()}}),a)})))()},changeStatus:function(e){var t=this;this.$confirm(1===e.status?"是否啟用ID：".concat(e.id,"的用戶"):"是否禁用ID：".concat(e.id,"的用戶"),"提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(d["n"])({id:e.id,status:e.status});case 2:Object(z["a"])(t,"操作成功！","success"),t.getData();case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.getData()}))},handleClick:function(e,t){"team"===e?(this.$refs.TeamDetail.userId=t.id,this.$refs.TeamDetail.getData(t),this.$refs.TeamDetail.dialogFormVisible=!0):"record"===e?(this.$refs.RecordDetail.detailId=t.id,this.$refs.RecordDetail.getData(t),this.$refs.RecordDetail.dialogFormVisible=!0):"pid"===e?this.setPid(t):"quota"===e?this.setQuota(t):"balance"===e&&(this.$refs.BalanceDetail.searchForm.id=t.id,this.$refs.BalanceDetail.getData(),this.$refs.BalanceDetail.dialogFormVisible=!0)},setQuota:function(e){var t=this,a=/^((0{1}\.\d{1,2})|([1-9]\d*\.{1}\d{1,2})|([1-9]+\d*))$/;this.$prompt("","增加額度",{confirmButtonText:"確定",cancelButtonText:"取消",inputErrorMessage:"增加額度不能為空",inputValidator:function(e){return e?!!a.test(e)||"包含两位小數的正數":"請輸入增加額度"}}).then(function(){var a=Object(o["a"])(Object(i["a"])().mark((function a(n){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=n.value,a.next=3,Object(d["d"])({id:e.id,num:r});case 3:Object(z["a"])(t,"操作成功！","success"),t.getData();case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(){}))},setPid:function(e){var t=this;this.$prompt("","修改推薦人",{confirmButtonText:"確定",cancelButtonText:"取消",inputValue:e.pid,inputErrorMessage:"修改推薦人ID不能為空",inputValidator:function(e){return!!e||"修改推薦人ID不能為空"}}).then(function(){var a=Object(o["a"])(Object(i["a"])().mark((function a(n){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=n.value,a.next=3,Object(d["k"])({id:e.id,pid:r});case 3:Object(z["a"])(t,"操作成功！","success"),t.getData();case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(){}))}}},M=N,L=Object(b["a"])(M,n,r,!1,null,"029dfe7b",null);t["default"]=L.exports},c24f:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"i",(function(){return i})),a.d(t,"m",(function(){return o})),a.d(t,"n",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"l",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"h",(function(){return m})),a.d(t,"a",(function(){return h})),a.d(t,"k",(function(){return f})),a.d(t,"d",(function(){return b})),a.d(t,"j",(function(){return v}));var n=a("b775");function r(e){return Object(n["a"])({url:"user/enums",params:e})}function i(e){return Object(n["a"])({url:"user/list",params:e})}function o(e){return Object(n["a"])({url:"user/role",params:e})}function s(e){return Object(n["a"])({url:"user/status",params:e})}function l(e){return Object(n["a"])({url:"user/change-level",params:e})}function c(e){return Object(n["a"])({url:"user/remark",method:"post",data:e})}function u(e){return Object(n["a"])({url:"user/data",params:e})}function d(e){return Object(n["a"])({url:"user/get-income-distribute",params:e})}function p(e){return Object(n["a"])({url:"user/get-income-log",params:e})}function m(e){return Object(n["a"])({url:"user/group",params:e})}function h(e){return Object(n["a"])({url:"user/get-direct-by-id",params:e})}function f(e){return Object(n["a"])({url:"user/parent",params:e})}function b(e){return Object(n["a"])({url:"user/add-quota",method:"post",data:e})}function v(e){return Object(n["a"])({url:"user/logs",params:e})}},c6e7:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={data:function(){return{searchShow:!0,options:{},searchForm:{page:1,page_size:10,total:0},selectList:[],message:{},eventEnum:{del:"onDel",add:"onAdd",edit:"onEdit",batchDel:"onBatchDel"}}},methods:{getSearchOptions:function(){return this.$refs.searchForm?Object.assign({},this.searchForm,this.$refs.searchForm.searchForm):this.searchForm},onInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.$refs.searchForm?this.$refs.searchForm.searchForm:{},a=Object.assign({},e,this.$options.data().searchForm,t);this.searchForm=a,this.getData()},onSearch:function(){this.searchForm.page=1,this.getData()},onCancel:function(){this.isShow=!1},handleSelectionChange:function(e){this.selectList=e},handleCurrentChange:function(e){this.loading=!0,this.searchForm.page=e,this.getData()}}}},f5d8:function(e,t,a){}}]);